<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head lang="en">


    <th:block th:include="fragments/headerinc :: head"></th:block>
</head>
<body>
<th:block th:include="fragments/header :: header"></th:block>
<div class="container">
    <h1 class="jumbotron">
        <span sec:authentication="name"></span>'s Shopping Cart
    </h1>
    <div class="panel-default well" th:each="invite : ${invites.values()}">


        <div th:if="${invite.getEvent().getMovieEvent() != null}">
            <div class="panel-heading">
                <h1><a th:text="${invite.getEvent().getMovieEvent().getMovie().getName()}"
                       th:href="@{'/movie/' + ${invite.getEvent().getMovieEvent().getMovie().id}}">Title</a></h1>
                <h3 th:text="${invite.getEvent().getMovieEvent().getMovie().description}">Description</h3>
            </div>
            <div class="row panel-body">
                <div th:inline="text" class="col-md-2">Price: [[${invite.getEvent().getMovieEvent().getPrice()}]] $</div>
                <div th:inline="text" class="col-md-9">Quantity: [[${invite.getQuantity()}]]</div>
                <a th:href="@{'/shoppingCart/removeProduct/{id}'(id=${invite.getEvent().getId()})}" class="col-md-1">
                    <button type="button" class="btn btn-danger" th:text="Remove">Remove</button>
                </a>
            </div>
            <br>
        </div>


        <div th:if="${invite.getEvent().getLiveShow() != null}">
            <div class="panel-heading">
                <h1><a th:text="${invite.getEvent().getLiveShow().getArtist().getName()}"
                       th:href="@{'/movie/' + ${invite.getEvent().getLiveShow().getId()}}">Title</a></h1>
                <h3 th:text="${invite.getEvent().getLiveShow().getArtist().getDescription()}">Description</h3>
            </div>
            <div class="row panel-body">
                <div th:inline="text" class="col-md-2">Price Of Seating: [[${invite.getEvent().getLiveShow().getCostSeating()}]]$ </div>
                <div th:inline="text" class="col-md-2">Price Of Seating: [[${invite.getEvent().getLiveShow().getCostStanding()}]]$</div>
                <div th:inline="text" class="col-md-9">Quantity: [[${invite.getQuantity()}]]</div>
                <a th:href="@{'/shoppingCart/removeProduct/{id}'(id=${invite.getEvent().getId()})}" class="col-md-1">
                    <button type="button" class="btn btn-danger" th:text="Remove">Remove</button>
                </a>
            </div>
            <br>
        </div>



    </div>




    <div class="row panel-body">
    <h2 class="col-md-11" th:inline="text">Total: [[${total}]]</h2>
    <a th:href="@{'/shoppingCart/checkout'}" class="col-md-1">
    <button type="button" class="btn btn-primary" th:text="Checkout">Checkout</button>
    </a>
    </div>
</div>




</body>
</html>